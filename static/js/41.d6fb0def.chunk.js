"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[41],{2041:function(n,e,t){t.r(e),t.d(e,{default:function(){return un}});var r,a,i,o,s,c,u,d,l,x,m,p,h,f,b,Z,g,j,y=t(2791),v=t(9434),w=t(8174),k=(t(5462),t(7063)),C=t(5861),A=t(9439),F=t(4687),z=t.n(F),I=t(168),N=t(1845),q=N.Z.li(r||(r=(0,I.Z)(["\ndisplay: flex;\nalign-items: center;\n  justify-content: space-between;\n  gap: 10px;\n\n"]))),_=(N.Z.div(a||(a=(0,I.Z)(["\n"]))),N.Z.p(i||(i=(0,I.Z)([""])))),L=N.Z.button(o||(o=(0,I.Z)(["\n  width: 100px;\n  height: 30px;\n  border-radius: 4px;\n  background-color: rgb(63, 81, 181);\n  text-align: center;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: rgb(255, 255, 255);\n  border: none;\n  cursor: pointer;\n"]))),P=N.Z.hr(s||(s=(0,I.Z)(["\n  width: 100%;\n  height: 1px;\n  background-color: #000;\n"]))),S=t(184),B=function(n){var e=n.contact,t=(0,y.useState)(!1),r=(0,A.Z)(t,2),a=r[0],i=r[1],o=(0,v.I0)(),s=e.name,c=e.number,u=e.id,d=function(){var n=(0,C.Z)(z().mark((function n(){return z().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i(!0),n.next=3,o(k.mh.deleteContact(u));case 3:i(!1);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(q,{children:[(0,S.jsxs)(_,{children:[s,": ",c]}),(0,S.jsx)(L,{disabled:a,onClick:d,type:"button",children:a?"Loading...":"Delete"})]}),(0,S.jsx)(P,{})]})},D=N.Z.ul(c||(c=(0,I.Z)(["\n\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  list-style: none;\n"]))),J=N.Z.p(u||(u=(0,I.Z)([""]))),M=N.Z.p(d||(d=(0,I.Z)([""]))),E=function(){var n=(0,v.v9)(k.DI),e=(0,v.v9)(k.xU);return n.length>0?(0,S.jsx)(D,{children:n.map((function(n){return(0,S.jsx)(B,{contact:n},n.id)}))}):e?(0,S.jsx)(J,{children:"Loading..."}):(0,S.jsx)(M,{children:"No contacts found"})},R=t(5984),T=t(6727),U=t(5705),V=(0,N.Z)(U.l0)(l||(l=(0,I.Z)(["\n    margin-bottom: 10px;\n  padding: 10px;\n\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  align-items: center;\n  justify-content: center;\n\n  border: 2px solid black;\n  border-radius: 5px;\n\n"]))),$=N.Z.label(x||(x=(0,I.Z)(["\n  display: flex;\n\n\n  flex-direction: column;\n  gap: 5px;\n"]))),G=(0,N.Z)(U.gN)(m||(m=(0,I.Z)(["\n  width: 500px;\n  height: 25px;\n  font-size: 17px;\n"]))),H=N.Z.button(p||(p=(0,I.Z)(["\n  width: 100px;\n  height: 30px;\n  border-radius: 4px;\n  background-color: rgb(63, 81, 181);\n  text-align: center;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: rgb(255, 255, 255);\n  border: none;\n  cursor: pointer;\n"]))),K=N.Z.p(h||(h=(0,I.Z)(["\n  color: red;\n  max-width: 500px;\n"]))),O=function(n){var e=n.name;return(0,S.jsx)(U.Bc,{name:e,render:function(n){return(0,S.jsx)(K,{children:n})}})},Q=T.Ry().shape({name:T.Z_().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan.").max(25,"Name must not exceed 25 characters.").required("Name is required."),number:T.Z_().matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with '+'.").max(25,"Phone number must not exceed 25 characters.").required("Phone number is required.")}),W={name:"",number:""},X=(0,R.x0)(),Y=(0,R.x0)(),nn=function(){var n=(0,y.useState)(!1),e=(0,A.Z)(n,2),t=e[0],r=e[1],a=(0,v.I0)(),i=(0,v.v9)(k.Af),o=function(){var n=(0,C.Z)(z().mark((function n(e,t){var o,s,c,u;return z().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=e.name,s=e.number,c=t.resetForm,r(!0),u=o.trim(),!i.find((function(n){return n.name.toLowerCase()===u.toLowerCase()}))){n.next=9;break}return w.Am.error("".concat(u," is already in contacts"),{autoClose:2e3}),c(),r(!1),n.abrupt("return");case 9:return n.next=11,a(k.mh.addContact({name:u,number:s}));case 11:c(),r(!1);case 13:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(w.Ix,{}),(0,S.jsx)(U.J9,{initialValues:W,validationSchema:Q,onSubmit:o,children:(0,S.jsxs)(V,{children:[(0,S.jsxs)($,{htmlFor:X,children:["Name",(0,S.jsx)(G,{type:"text",id:X,name:"name",required:!0}),(0,S.jsx)(O,{name:"name"})]}),(0,S.jsxs)($,{htmlFor:Y,children:["Number",(0,S.jsx)(G,{type:"tel",id:Y,name:"number",required:!0}),(0,S.jsx)(O,{name:"number"})]}),(0,S.jsx)(H,{disabled:t,type:"submit",children:t?"Loading...":"Add contact"})]})})]})},en=t(8493),tn=N.Z.label(f||(f=(0,I.Z)(["\n  display: flex;\n  margin-bottom: 18px;\n\n  justify-content: center;\n  flex-direction: column;\n  gap: 5px;\n"]))),rn=N.Z.input(b||(b=(0,I.Z)(["\n  width: 500px;\n  height: 25px;\n  font-size: 17px;\n"]))),an=function(){var n=(0,v.I0)(),e=(0,R.x0)();return(0,S.jsxs)(tn,{htmlFor:e,children:["Find contacts by name",(0,S.jsx)(rn,{onChange:function(e){var t=e.currentTarget;return n((0,en.M6)(t.value))},type:"text",id:e,name:"filter",value:(0,v.v9)(en.AD)})]})},on=N.Z.div(Z||(Z=(0,I.Z)(["\nmargin-top: 50px;\n\ndisplay: flex;\nalign-items: center;\njustify-content: center;\nflex-direction: column;\nflex-wrap: wrap;\n"]))),sn=N.Z.h1(g||(g=(0,I.Z)(["\nfont-weight: 400;\nmargin-bottom: 10px;\n"]))),cn=N.Z.h1(j||(j=(0,I.Z)(["\nfont-weight: 400;\nmargin-bottom: 10px;\n"]))),un=function(){var n=(0,v.I0)(),e=(0,v.v9)(k.zh);return(0,y.useEffect)((function(){n(k.mh.fetchContacts())}),[n]),e&&w.Am.error(e,{autoClose:2e3}),(0,S.jsxs)(on,{children:[(0,S.jsx)(w.Ix,{}),(0,S.jsx)(sn,{children:"PhoneBook"}),(0,S.jsx)(nn,{}),(0,S.jsx)(cn,{children:"Contacts"}),(0,S.jsx)(an,{}),(0,S.jsx)(E,{})]})}}}]);
//# sourceMappingURL=41.d6fb0def.chunk.js.map