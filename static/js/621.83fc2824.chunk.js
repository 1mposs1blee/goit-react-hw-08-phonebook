"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[621],{6621:function(n,e,t){t.r(e),t.d(e,{default:function(){return mn}});var r,a,o,i,s,c,u,d,l,h,x,m,p,f,g,b,Z,j,w,y,v=t(2791),k=t(9434),C=t(8174),A=(t(5462),t(7063)),q=t(5861),F=t(9439),I=t(4687),N=t.n(I),S=t(168),_=t(1845),L=_.Z.span(r||(r=(0,S.Z)(["\n  font-weight: 600;\n"]))),z=_.Z.li(a||(a=(0,S.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 10px;\n"]))),E=_.Z.p(o||(o=(0,S.Z)(["\n  font-weight: 600;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),B=_.Z.button(i||(i=(0,S.Z)(["\n  font-weight: 600;\n  width: 100px;\n  height: 30px;\n  border-radius: 4px;\n  background-color: rgb(63, 81, 181);\n  text-align: center;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: rgb(255, 255, 255);\n  border: none;\n  cursor: pointer;\n  transition: background-color 0.3s ease-in-out;\n\n  &:hover,\n  &:focus {\n    background-color: rgb(0, 170, 255);\n  }\n"]))),D=_.Z.hr(s||(s=(0,S.Z)(["\n  width: 100%;\n  height: 1px;\n  background-color: #000;\n"]))),P=t(184),J=function(n){var e=n.contact,t=(0,v.useState)(!1),r=(0,F.Z)(t,2),a=r[0],o=r[1],i=(0,k.I0)(),s=e.name,c=e.number,u=e.id,d=function(){var n=(0,q.Z)(N().mark((function n(){return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o(!0),n.next=3,i(A.mh.deleteContact(u)).then((function(n){var e=n.meta.requestStatus,t=n.payload;if("rejected"===e)throw new Error(t)})).catch((function(n){var e=n.message;C.Am.error((0,P.jsx)(L,{children:e}),{autoClose:2e3})}));case 3:o(!1);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(C.Ix,{}),(0,P.jsxs)(z,{children:[(0,P.jsxs)(E,{children:[s,": ",c]}),(0,P.jsx)(B,{disabled:a,onClick:d,type:"button",children:a?"Loading...":"Delete"})]}),(0,P.jsx)(D,{})]})},M=_.Z.ul(c||(c=(0,S.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  list-style: none;\n"]))),R=_.Z.p(u||(u=(0,S.Z)(["\n  font-weight: 600;\n"]))),T=_.Z.p(d||(d=(0,S.Z)(["\n  font-weight: 600;\n"]))),U=function(){var n=(0,k.v9)(A.DI),e=(0,k.v9)(A.xU);return n.length>0?(0,P.jsx)(M,{children:n.map((function(n){return(0,P.jsx)(J,{contact:n},n.id)}))}):e?(0,P.jsx)(R,{children:"Loading..."}):(0,P.jsx)(T,{children:"No contacts found"})},V=t(5984),$=t(6727),G=t(5705),H=_.Z.span(l||(l=(0,S.Z)(["\n  font-weight: 600;\n"]))),K=(0,_.Z)(G.l0)(h||(h=(0,S.Z)(["\n  margin-bottom: 10px;\n  padding: 10px;\n\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  align-items: center;\n  justify-content: center;\n\n  border: 2px solid black;\n  border-radius: 5px;\n"]))),O=_.Z.label(x||(x=(0,S.Z)(["\n  font-weight: 600;\n\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n"]))),Q=(0,_.Z)(G.gN)(m||(m=(0,S.Z)(["\n  font-weight: 600;\n  width: 500px;\n  height: 25px;\n"]))),W=_.Z.button(p||(p=(0,S.Z)(["\n  font-weight: 600;\n  width: 100px;\n  height: 30px;\n  border-radius: 4px;\n  background-color: rgb(63, 81, 181);\n  text-align: center;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: rgb(255, 255, 255);\n  border: none;\n  cursor: pointer;\n  transition: background-color 0.3s ease-in-out;\n\n  &:hover,\n  &:focus {\n    background-color: rgb(0, 170, 255);\n  }\n"]))),X=_.Z.p(f||(f=(0,S.Z)(["\n  font-weight: 600;\n  color: red;\n  max-width: 500px;\n"]))),Y=function(n){var e=n.name;return(0,P.jsx)(G.Bc,{name:e,render:function(n){return(0,P.jsx)(X,{children:n})}})},nn=$.Ry().shape({name:$.Z_().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan.").max(25,"Name must not exceed 25 characters.").required("Name is required."),number:$.Z_().matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with '+'.").max(25,"Phone number must not exceed 25 characters.").required("Phone number is required.")}),en={name:"",number:""},tn=(0,V.x0)(),rn=(0,V.x0)(),an=function(){var n=(0,v.useState)(!1),e=(0,F.Z)(n,2),t=e[0],r=e[1],a=(0,k.I0)(),o=(0,k.v9)(A.Af),i=function(){var n=(0,q.Z)(N().mark((function n(e,t){var i,s,c,u;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=e.name,s=e.number,c=t.resetForm,r(!0),u=i.trim(),!o.find((function(n){return n.name.toLowerCase()===u.toLowerCase()}))){n.next=9;break}return C.Am.error((0,P.jsxs)(H,{children:[u," is already in contacts."]}),{autoClose:2e3}),c(),r(!1),n.abrupt("return");case 9:return n.next=11,a(A.mh.addContact({name:u,number:s})).then((function(n){var e=n.meta.requestStatus,t=n.payload;if("rejected"===e)throw new Error(t)})).catch((function(n){var e=n.message;C.Am.error((0,P.jsx)(H,{children:e}),{autoClose:2e3})}));case 11:c(),r(!1);case 13:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(C.Ix,{}),(0,P.jsx)(G.J9,{initialValues:en,validationSchema:nn,onSubmit:i,children:(0,P.jsxs)(K,{children:[(0,P.jsxs)(O,{htmlFor:tn,children:["Name",(0,P.jsx)(Q,{type:"text",id:tn,name:"name",required:!0}),(0,P.jsx)(Y,{name:"name"})]}),(0,P.jsxs)(O,{htmlFor:rn,children:["Number",(0,P.jsx)(Q,{type:"tel",id:rn,name:"number",required:!0}),(0,P.jsx)(Y,{name:"number"})]}),(0,P.jsx)(W,{disabled:t,type:"submit",children:t?"Loading...":"Add contact"})]})})]})},on=t(8493),sn=_.Z.label(g||(g=(0,S.Z)(["\n  margin-bottom: 18px;\n  font-weight: 600;\n  display: flex;\n\n  justify-content: center;\n  flex-direction: column;\n  gap: 5px;\n"]))),cn=_.Z.input(b||(b=(0,S.Z)(["\n  font-weight: 600;\n  width: 500px;\n  height: 25px;\n"]))),un=function(){var n=(0,k.I0)(),e=(0,V.x0)();return(0,P.jsxs)(sn,{htmlFor:e,children:["Find contacts by name",(0,P.jsx)(cn,{onChange:function(e){var t=e.currentTarget;return n((0,on.M6)(t.value))},type:"text",id:e,name:"filter",value:(0,k.v9)(on.AD)})]})},dn=_.Z.span(Z||(Z=(0,S.Z)(["\n  font-weight: 600;\n"]))),ln=_.Z.div(j||(j=(0,S.Z)(["\n  margin-top: 50px;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  flex-wrap: wrap;\n"]))),hn=_.Z.h1(w||(w=(0,S.Z)(["\n  font-weight: 600;\n  margin-bottom: 10px;\n"]))),xn=_.Z.h1(y||(y=(0,S.Z)(["\n  font-weight: 600;\n  margin-bottom: 10px;\n"]))),mn=function(){var n=(0,k.I0)();return(0,v.useEffect)((function(){n(A.mh.fetchContacts()).then((function(n){var e=n.meta.requestStatus,t=n.payload;if("rejected"===e)throw new Error(t)})).catch((function(n){var e=n.message;C.Am.error((0,P.jsx)(dn,{children:e}),{autoClose:2e3})}))}),[n]),(0,P.jsxs)(ln,{children:[(0,P.jsx)(C.Ix,{}),(0,P.jsx)(hn,{children:"ContactBook"}),(0,P.jsx)(an,{}),(0,P.jsx)(xn,{children:"Contacts"}),(0,P.jsx)(un,{}),(0,P.jsx)(U,{})]})}}}]);
//# sourceMappingURL=621.83fc2824.chunk.js.map